"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[3913],{79412:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var o=n(74848),i=n(28453);const r={sidebar_position:2},s="PANet",a={id:"feat-fusion/panet",title:"PANet",description:"Give Me a Shortcut",source:"@site/i18n/en/docusaurus-plugin-content-docs-papers/current/feat-fusion/panet.md",sourceDirName:"feat-fusion",slug:"/feat-fusion/panet",permalink:"/en/papers/feat-fusion/panet",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"zephyr-sh",lastUpdatedAt:1714898578e3,sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"papersSidebar",previous:{title:"FPN",permalink:"/en/papers/feat-fusion/fpn"},next:{title:"Hourglass",permalink:"/en/papers/feat-fusion/hourglass"}},h={},l=[{value:"Give Me a Shortcut",id:"give-me-a-shortcut",level:2},{value:"Defining the Problem",id:"defining-the-problem",level:2},{value:"Solving the Problem",id:"solving-the-problem",level:2},{value:"PANet Model Design",id:"panet-model-design",level:3},{value:"Path Aggregation Network (PANet)",id:"path-aggregation-network-panet",level:3},{value:"Discussion",id:"discussion",level:2},{value:"How Does It Compare to Basic FPN?",id:"how-does-it-compare-to-basic-fpn",level:3},{value:"Conclusion",id:"conclusion",level:2}];function c(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",h1:"h1",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"panet",children:"PANet"}),"\n",(0,o.jsx)(t.h2,{id:"give-me-a-shortcut",children:"Give Me a Shortcut"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:(0,o.jsx)(t.a,{href:"https://arxiv.org/abs/1803.01534v4",children:"Path Aggregation Network for Instance Segmentation (2018.03)"})})}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsx)(t.p,{children:"The following content is compiled by ChatGPT-4, with manual proofreading, editing, and additional explanations."})}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.p,{children:'After the classic FPN was introduced, the question of "how to perform feature fusion more efficiently?" became a topic worthy of research.'}),"\n",(0,o.jsx)(t.p,{children:"Let's take a look at another classic architecture \u2014 PANet."}),"\n",(0,o.jsx)(t.h2,{id:"defining-the-problem",children:"Defining the Problem"}),"\n",(0,o.jsx)(t.p,{children:"In the PANet paper, the main comparison is made with the FPN architecture. If you're not familiar with it, you can refer to:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsxs)(t.strong,{children:["Link: ",(0,o.jsx)(t.a,{href:"./fpn",children:"FPN: Feature Pyramid Networks"})]})}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:'Recall our earlier conclusion about FPN: "Bottom-up, top-down, then add them together."'}),"\n",(0,o.jsx)(t.p,{children:"For this design, PANet considers it insufficient. Here's a quote from the authors:"}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"The insightful point that neurons in high layers strongly respond to entire objects while other neurons are more likely to be activated by local texture and patterns manifests the necessity of augmenting a top-down path to propagate semantically strong features and enhance all features with reasonable classification capability in FPN."}),"\n",(0,o.jsx)(t.p,{children:"Excerpted from PANet"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"I believe the beauty of the original sentiment would be lost if translated directly into Chinese, so I opted to leave it as is. In simple terms, neurons in high layers can see entire objects, while neurons in lower layers focus on local texture and patterns. Therefore, a single pathway for feature fusion is insufficient; we need to add another one."}),"\n",(0,o.jsx)(t.p,{children:"This quote encapsulates the core functionality of the entire paper."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"panet_1",src:n(57863).A+"",width:"1024",height:"396"})}),"\n",(0,o.jsx)(t.p,{children:'Let\'s break down this quote with the help of the image. First, "neurons in high layers" refer to Block5. These neurons have a large receptive field and can perceive large objects. On the other hand, features from lower layers like P1, P2, etc., focus on local texture and patterns.'}),"\n",(0,o.jsx)(t.p,{children:"The original FPN design allows lower-level features (e.g., P1) to reference higher-level features (e.g., P5) with a short pathway, perhaps consisting of only a few or a dozen convolutional layers. However, for higher-level features (e.g., P5) to reference lower-level features (e.g., P1), it might require hundreds of convolutional layers, depending on the chosen backbone network."}),"\n",(0,o.jsx)(t.p,{children:"That's quite a disparity, isn't it? Shouldn't we make some adjustments?"}),"\n",(0,o.jsx)(t.h2,{id:"solving-the-problem",children:"Solving the Problem"}),"\n",(0,o.jsx)(t.h3,{id:"panet-model-design",children:"PANet Model Design"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"panet_2",src:n(46345).A+"",width:"1024",height:"348"})}),"\n",(0,o.jsx)(t.p,{children:"As shown in the image above, this is the improvement proposed by the authors. First is image (a), which represents the FPN architecture we discussed earlier. Then we have image (b), where the authors added a path: if the original path is too long (depicted by the red line), provide a shortcut from bottom to top (depicted by the green line). Images (c) and (d) belong to the Head structure, which is not within the scope of our discussion here, so we'll skip them."}),"\n",(0,o.jsx)(t.h3,{id:"path-aggregation-network-panet",children:"Path Aggregation Network (PANet)"}),"\n",(0,o.jsx)(t.p,{children:"Lastly, let's delve into how the Path Aggregation Modules are implemented: for each building block, we combine the features from the lower-level feature map (Ni) and the higher-level feature map (Pi+1) to create a new feature map (Ni+1)."}),"\n",(0,o.jsx)(t.p,{children:"For each feature map (Ni), we first use a 3x3 convolution operation with stride=2 to reduce the spatial dimensions of the image by half, allowing us to process less data. It's important to note that N2 in Figure 1 is just P2 without any processing."}),"\n",(0,o.jsx)(t.p,{children:"Next, we add each small block from the higher-level feature map (Pi+1) to the corresponding position in the lower-level feature map (Ni). Finally, we apply another 3x3 convolution operation to this combined feature map to obtain a new feature map (Ni+1) for subsequent subnetworks."}),"\n",(0,o.jsx)(t.p,{children:"This process is repeated until we reach the feature map close to the top level (P5), at which point it stops. In these building blocks, PANet maintains the channel number of features at 256, and each convolution operation is followed by a ReLU activation function, which the authors believe allows the model to learn more useful features."}),"\n",(0,o.jsx)(t.p,{children:"Finally, from these newly generated feature maps, the features of each proposal grid are combined together, forming the [N2, N3, N4, N5] feature grids shown in the image. Through this approach, the PANet architecture not only preserves the importance of features but also effectively enhances the flow of information, laying a solid foundation for subsequent tasks."}),"\n",(0,o.jsx)(t.h2,{id:"discussion",children:"Discussion"}),"\n",(0,o.jsx)(t.h3,{id:"how-does-it-compare-to-basic-fpn",children:"How Does It Compare to Basic FPN?"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"panet_3",src:n(48556).A+"",width:"1024",height:"456"})}),"\n",(0,o.jsx)(t.p,{children:"As we delve deeper into this architecture, we can see that the authors conducted a lot of analysis and experiments during the optimization process."}),"\n",(0,o.jsx)(t.p,{children:"Let's highlight some key points together."}),"\n",(0,o.jsx)(t.p,{children:'First, let\'s focus on the "Multi-Scale Training" element, denoted as "MST" in the image.'}),"\n",(0,o.jsx)(t.p,{children:"This is the implementation of the FPN architecture mentioned earlier, and it's evident that when this element is added, the original model's performance improves by 2% in terms of AP score."}),"\n",(0,o.jsx)(t.p,{children:'Next, the authors added "Multi-GPU BatchNorm." Starting with the original multi-scale architecture, this further improved performance by 0.4%. Then comes the crucial element emphasized in this paper: "Bottom-Up Path Augmentation" (BPA), represented in the image as "BPA." The core idea of this method is to enhance paths from the bottom, combining lower-level feature maps with higher-level ones to establish a richer hierarchical structure of information.'}),"\n",(0,o.jsx)(t.p,{children:'After integrating "BPA," the model\'s performance improved by another 0.7%. We feel it\'s a bit unfortunate that a "Dilution Experiment" was inserted between "MST" and "BPA," so we couldn\'t see a direct comparison between "MST" alone and "MST+BPA."'}),"\n",(0,o.jsx)(t.p,{children:'In addition to "Bottom-Up Path Augmentation," the authors introduced several other key elements to make the entire architecture more robust. While these belong to the Model Head part and are not the focus of this paper, since the diagrams are provided, let\'s briefly go over some information.'}),"\n",(0,o.jsx)(t.p,{children:'One of them is "Adaptive Feature Pooling," which connects feature grids with all feature levels, allowing useful information from each level to propagate directly to subsequent subnetworks. This approach enables better cooperation between features of different levels, further enhancing the model\'s performance. Additionally, "Fully Connected Fusion" is also an important component. Through this method, the authors aim to improve the model\'s prediction quality, thereby enhancing overall performance.'}),"\n",(0,o.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,o.jsx)(t.p,{children:"PANet continues the design philosophy of FPN, further exploring how to better address the problem of multi-scale feature fusion while innovating further. This architecture not only effectively combines various backbone networks to build a stronger feature pyramid but also provides superior performance improvements for multi-scale tasks."}),"\n",(0,o.jsx)(t.p,{children:"The PANet paper conveys two important messages:"}),"\n",(0,o.jsx)(t.p,{children:"First, regardless of the multi-scale problem we face, we must consider how to perform feature fusion. The design concept of PANet is full of attention to features at different scales, and through path enhancement, feature pooling, and fusion methods, it integrates these scales into a powerful feature representation."}),"\n",(0,o.jsx)(t.p,{children:'Second, unlike what was mentioned in FPN: "Bottom-Up, Top-Down, then Add them together"; in PANet, the authors believe it should be changed to "Bottom-Up, Top-Down, Bottom-Up, then Add them together."'}),"\n",(0,o.jsx)(t.p,{children:"In the process of exploring feature fusion, there are still a series of unresolved issues, such as comparing additive fusion with concatenation fusion, improving fusion efficiency, and adjusting fusion weights. These issues will be further explored in future research."})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},57863:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/fpn_2-c3d635c32d5e688c8cd4718addfd29a7.jpg"},46345:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/panet_2-4e3ad8aa7847c06176c584f84e60b0ce.jpg"},48556:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/panet_3-53604030d93d316d1ef590fe4dea809d.jpg"},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var o=n(96540);const i={},r=o.createContext(i);function s(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);